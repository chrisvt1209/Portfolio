{
  "version": 3,
  "sources": ["../../../assets/js/helpers/file.js"],
  "sourcesContent": ["\uFEFF/**\r\n * Converts a File object to a Base64-encoded data URL.\r\n *\r\n * Uses a FileReader to read the file asynchronously and returns\r\n * a Promise that resolves with the Base64 string.\r\n *\r\n * @param {File} file - The file to convert.\r\n * @returns {Promise<string|ArrayBuffer|null>} A Promise that resolves with the Base64 data URL.\r\n *\r\n * @example\r\n * const base64 = await toBase64(fileInput.files[0]);\r\n */\r\nexport const toBase64 = (file) => new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = reject;\r\n});\r\n\r\n/**\r\n * Converts a data URL or a remote URL into a File object.\r\n *\r\n * - If the URL is a data URL, it decodes it and creates a File.\r\n * - If the URL is a remote URL, it fetches it as an ArrayBuffer and creates a File.\r\n *\r\n * @param {string} url - The data URL or remote URL of the file.\r\n * @param {string} filename - The name for the resulting File object.\r\n * @param {string} [mimeType] - The MIME type to use if not inferable from the data URL.\r\n * @returns {Promise<File>} A Promise that resolves with the created File object.\r\n *\r\n * @example\r\n * // From a data URL\r\n * const file = await toFile(\"data:image/png;base64,...\", \"image.png\");\r\n *\r\n * // From a remote URL\r\n * const file = await toFile(\"https://example.com/image.png\", \"image.png\", \"image/png\");\r\n */\r\nexport const toFile = (url, filename, mimeType) => {\r\n    if (url.startsWith('data:')) {\r\n        var arr = url.split(','),\r\n            mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[arr.length - 1]),\r\n            n = bstr.length,\r\n            u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        var file = new File([u8arr], filename, { type: mime || mimeType });\r\n        return Promise.resolve(file);\r\n    }\r\n\r\n    return fetch(url)\r\n        .then(res => res.arrayBuffer())\r\n        .then(buf => new File([buf], filename, { type: mimeType }));\r\n};\r\n"],
  "mappings": "4CAYO,IAAMA,EAAWC,EAACC,GAAS,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC/D,IAAMC,EAAS,IAAI,WACnBA,EAAO,cAAcH,CAAI,EACzBG,EAAO,OAAS,IAAMF,EAAQE,EAAO,MAAM,EAC3CA,EAAO,QAAUD,CACrB,CAAC,EALuB,YAyBXE,EAASL,EAAA,CAACM,EAAKC,EAAUC,IAAa,CAC/C,GAAIF,EAAI,WAAW,OAAO,EAAG,CAMzB,QALIG,EAAMH,EAAI,MAAM,GAAG,EACnBI,EAAOD,EAAI,CAAC,EAAE,MAAM,SAAS,EAAE,CAAC,EAChCE,EAAO,KAAKF,EAAIA,EAAI,OAAS,CAAC,CAAC,EAC/BG,EAAID,EAAK,OACTE,EAAQ,IAAI,WAAWD,CAAC,EACrBA,KACHC,EAAMD,CAAC,EAAID,EAAK,WAAWC,CAAC,EAEhC,IAAIX,EAAO,IAAI,KAAK,CAACY,CAAK,EAAGN,EAAU,CAAE,KAAMG,GAAQF,CAAS,CAAC,EACjE,OAAO,QAAQ,QAAQP,CAAI,CAC/B,CAEA,OAAO,MAAMK,CAAG,EACX,KAAKQ,GAAOA,EAAI,YAAY,CAAC,EAC7B,KAAKC,GAAO,IAAI,KAAK,CAACA,CAAG,EAAGR,EAAU,CAAE,KAAMC,CAAS,CAAC,CAAC,CAClE,EAjBsB",
  "names": ["toBase64", "__name", "file", "resolve", "reject", "reader", "toFile", "url", "filename", "mimeType", "arr", "mime", "bstr", "n", "u8arr", "res", "buf"]
}
